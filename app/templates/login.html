<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <!--CSS -->
      <link
         rel="stylesheet"
         type="text/css"
         href="{{ url_for('static', filename='css/style.css') }}"
         />
      <!--Boostrap CDN-->
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
         integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
         crossorigin="anonymous"
         />
      <!-- icon fontawesome-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer">
      <!-- favicon -->   
      <link rel="shortcut  icon" type="image/x-icon" href="{{ url_for ('static', filename='favicon.ico') }}">
      <title>Login</title>
   </head>
   <body>
      <header>
         <div class="navbar navbar-dark bg-dark">
            <div class="container d-flex justify-content-between">
               <a href="/main" class="navbar-brand flex-grow-1">
               <i class="fa-solid fa-clapperboard"></i>
               <strong>Movies</strong>
               </a>
            </div>
         </div>
      </header>
      <main class="container">
         <h1 class="d-flex mt-3">Welcome!</h1>
         <div class="row justify-content-around pt-5 pb-4">
            <div class="col-5">
               <!--Registration form-->
               <form action="/register" method="post" class="p-4 bg-dark text-light">
                  <h2 class="d-flex my-3 align-items-start">Register</h2>
                  {% with messages = get_flashed_messages(category_filter=['register']) %} 
                  {% if messages %}
                  <div class="alert alert-danger" role="alert">
                     <strong>Error:</strong>
                     {% for message in messages %} 
                     <p class="m-0">{{message}}</p>
                     {% endfor %}
                  </div>
                  {% endif %}      
                  {% endwith %}
                  <div class="form-row">
                     <div class="col-md-12 mb-3">
                        <label>Full Name</label>
                        <input
                           type="text"
                           class="form-control"
                           name="fullname"
                           />
                     </div>
                  </div>
                  <div class="form-row">
                     <div class="col-md-12 input-group flex-nowrap">
                        <div class="input-group-prepend">
                           <span class="input-group-text" id="email">@</span>
                        </div>
                        <input
                           type="email"
                           class="form-control"
                           name="email"
                           placeholder="Your email"
                           />
                     </div>
                     <div class="col-md-12 mt-2">
                        <label for="password">Password</label>
                        <input
                           type="password"
                           class="form-control"
                           name="password"
                           />
                        <small class="text-muted">
                        * Password should be at least 8 characters.
                        </small>
                     </div>
                     <div class="col-md-12 mt-1">
                        <label for="conf_password">Confirm Password</label>
                        <input
                           type="password"
                           class="form-control"
                           name="conf_password"
                           />
                     </div>
                  </div>
                  <button
                     class="btn btn-primary d-flex justify-content-center mx-auto my-4"
                     type="submit"
                     >
                  Create User
                  </button>
               </form>
            </div>
            <!-- Login form-->
            <div class=" col-5">
               <form action="/login" method="post" class="p-4 bg-dark text-light">
                  <h2 class="mb-4 ml-3">Login</h2>
                  {% with messages = get_flashed_messages(category_filter=['login']) %} 
                  {% if messages %}
                  <div class="alert alert-danger" role="alert">
                     <span><strong>Error:</strong>{{messages[0]}}</span>
                  </div>
                  {% endif %}      
                  {% endwith %}
                  <div class="col-md-12">
                     <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class=" form-control" name="email" />
                     </div>
                  </div>
                  <div class="col-md-12">
                     <div class="form-group">
                        <label for="password">Password</label>
                        <input
                           type="password"
                           class="form-control"
                           name="password"
                           />
                     </div>
                  </div>
                  <div>
                     <button type="submit" class="btn btn-primary d-flex justify-content-center mx-auto my-4">Log In</button>
                  </div>
               </form>
            </div>
         </div>
         </section>
         <hr class="border border-black border-4">
      </main>
   </body>
</html>